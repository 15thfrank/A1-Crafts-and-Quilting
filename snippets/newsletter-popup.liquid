<div class="js-newsletter-popup {% if settings.newsletter_bg %} newsletter-popup__has-background-image {% endif %} {% if settings.newsletter_bg_stretched %} newsletter-popup__has-background-stretched {% endif %}">
  <div class="newsletter-popup__content">
    <a id="newsletter" href="#target"></a>
    <span id="target">
      <div class="popup-container {% if settings.newsletter_popup_image != blank %}popup-image--true{% endif %} image-position--{{ settings.popup_image_position }} {% if settings.newsletter_popup_image == blank %}no-image{% endif %} object-fit--{{ settings.image_crop }}">
        {% if settings.newsletter_popup_image != blank %}
          <div class="popup-image image-crop--{{ settings.image_crop }}">
            {% render 'image-element',
                    image: settings.newsletter_popup_image,
                    alt: settings.newsletter_popup_image.alt,
                    stretch_width: true
            %}
          </div>
        {% endif %}
        <div class="popup-text">
          {% if settings.newsletter_popup_link != blank %}
            <a href="{{ settings.newsletter_popup_link }}">
          {% endif %}

          {% if settings.newsletter_popup_title != blank %}
            <p class="headline">{{ settings.newsletter_popup_title | escape }}</p>
          {% endif %}

          {% if settings.newsletter_popup_text != blank %}
            {{ settings.newsletter_popup_text }}
          {% endif %}

          {% if settings.newsletter_popup_link != blank %}
            </a>
          {% endif %}

          {% if settings.newsletter_popup_form %}
            {% render 'newsletter' %}
          {% endif %}
        </div>
      </div>
    </span>
  </div>
</div>
